{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACZC,KAAMC,SAASC,cAAc,SAC7BC,kBAAmBF,SAASC,cAAc,mBAG3CH,EAAKI,kBAAkBC,iBAAiB,SAExC,SAAkCC,GACjCA,EAAIC,iBAEJ,IAAIC,EAAaR,EAAKC,KAAKQ,SAASC,MAAMC,cAC1C,MAAMC,EAAYZ,EAAKC,KAAKQ,SAASI,KAAKF,cACpCG,EAASd,EAAKC,KAAKQ,SAASK,OAAOH,cACzC,IAAII,EAAW,EAEfC,YAAW,KACV,MAAMC,EAAaC,aAAY,KAC9BH,GAAY,EACRA,IAAaD,GACfK,cAAcF,GAqBnB,SAAuBG,EAAUV,GAChC,MAAMW,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACxBL,EACHI,EAAQ,C,SAAEL,E,MAAUV,IAEpBgB,EAAO,C,SAAEN,E,MAAUV,GAAQ,G,CAzB1BiB,CAAcZ,EAAUP,GACtBoB,MAAK,EAACR,SAAEA,EAAQV,MAAEA,MAClBZ,EAAA+B,OAAOC,QAAQ,uBAAqBV,QAAiBV,MAAW,CAE3DqB,QAAS,KACT,IAELC,OAAM,EAACZ,SAAEA,EAAQV,MAAEA,MACnBZ,EAAA+B,OAAOI,QAAQ,sBAAoBb,QAAeV,MAAW,CAEzDqB,QAAS,KACR,IAEJvB,GAAcI,CAAS,GACzBA,EAAU,GACXJ,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n\tform: document.querySelector('.form'),\n\tcreatePromisesBtn: document.querySelector('.form > button'),\n};\n\nrefs.createPromisesBtn.addEventListener('click', onCreatePromisesBtnClick);\n\nfunction onCreatePromisesBtnClick(evt) {\n\tevt.preventDefault();\n\n\tlet firstDelay = refs.form.elements.delay.valueAsNumber;\n\tconst delayStep = refs.form.elements.step.valueAsNumber;\n\tconst amount = refs.form.elements.amount.valueAsNumber;\n\tlet position = 0;\n\n\tsetTimeout(() => {\n\t\tconst intervalId = setInterval(() => {\n\t\t\tposition += 1;\n\t\t\tif (position === amount) {\n\t\t\t\t\tclearInterval(intervalId);\n\t\t\t\t};\n\t\t\t\tcreatePromise(position, firstDelay)\n\t\t\t\t\t.then(({ position, delay }) => {\n\t\t\t\t\t\tNotify.success(`✅ Fulfilled promise ${position} in ${delay}ms`,\n\t\t\t\t\t\t\t{\n   \t\t\t\t \t\t\ttimeout: 5000,\n  \t\t\t\t\t\t},);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(({ position, delay }) => {\n\t\t\t\t\t\tNotify.failure(`❌ Rejected promise ${position} in ${delay}ms`,\n\t\t\t\t\t\t\t{\n    \t\t\t\t\t\ttimeout: 5000,\n  \t\t\t\t\t\t},);\n\t\t\t\t\t});\n\t\t\t\t\t\t\tfirstDelay += delayStep;\n\t\t}, delayStep);\n\t}, firstDelay);\n};\n\n\nfunction createPromise(position, delay) {\n\tconst shouldResolve = Math.random() > 0.3;\n\treturn new Promise((resolve, reject) => {\n\t\tif (shouldResolve) {\n\t\t\tresolve({ position, delay });\n  } else {\n\t\t\treject({ position, delay });\n  }\n\t})\n};\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","createPromisesBtn","addEventListener","evt","preventDefault","firstDelay","elements","delay","valueAsNumber","delayStep","step","amount","position1","setTimeout","intervalId","setInterval","clearInterval","position","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$createPromise","then","Notify","success","timeout","catch","failure"],"version":3,"file":"03-promises.aa85c23f.js.map"}